import{ToastGenerator}from"./ToastGenerator.min.js";import{CalloutGenerator}from"./CalloutGenerator.min.js";class DataFormatter{format(t,e=null){switch(this.toastGenerator=new ToastGenerator,this.calloutGenerator=new CalloutGenerator,t){case"date":return this.dateFR(e);case"decimal":return this.decimal(e);case"currency":return this.currency(e);case"phone":return this.phone(e);case"edit":return this.edit();case"suppress":return this.suppress();default:throw new Error("Unknown format type: "+t)}}dateFR(t){return String(t.getDate()).padStart(2,"0")+`/${String(t.getMonth()+1).padStart(2,"0")}/${t.getFullYear()} ${String(t.getHours()).padStart(2,"0")}:`+String(t.getMinutes()).padStart(2,"0")}decimal(t){if(isNaN(t))throw this.calloutGenerator.createCallout("La valeur du chiffre décimal n'est pas correcte: "+error),new Error("Invalid decimal value: "+t);return parseFloat(t).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}currency(t,e="fr-FR",r="EUR"){if(isNaN(t))throw this.calloutGenerator.createCallout("La valeur de la monnaie n'est pas correcte: "+t),new Error("Invalid currency value: "+t);return new Intl.NumberFormat(e,{style:"currency",currency:r}).format(t)}phone(t){if(""===t||null===t)throw this.calloutGenerator.createCallout("La valeur du numéro de téléphone n'est pas correcte: "+value),new Error("Invalid suppress value: "+value);return 4===(t=t.replace(/\D/g,"")).length?t.replace(/^(\d{2})(\d{2})/,"$1 $2"):5===t.length?t.replace(/^(\d{2})(\d{3})/,"$1 $2"):6===t.length?t.replace(/^(\d{3})(\d{3})/,"$1 $2"):10===t.length&&t.startsWith("08")?t.replace(/^(\d)(\d{3})(\d{3})(\d{3})/,"$1 $2 $3 $4"):10===t.length?t.replace(/(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})/,"$1 $2 $3 $4 $5"):11===t.length&&t.startsWith("0")?t.replace(/^0(\d)(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})/,"+33 $1 $2 $3 $4 $5"):12===t.length&&t.startsWith("33")?t.replace(/^33(\d)(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})/,"+33 $1 $2 $3 $4 $5"):t}edit(){return'<button class="btn btn-sm bg-transparent border-0 edit-btn"><i class="fas fa-lg fa-edit text-primary"></i></button>'}suppress(){return'<button class="btn btn-sm bg-transparent border-0 delete-btn"><i class="fas fa-lg fa-trash text-danger"></i></button>'}}export{DataFormatter};