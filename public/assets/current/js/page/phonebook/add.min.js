import{CalloutGenerator}from"../../class/CalloutGenerator.min.js";import{ApiService}from"../../class/ApiService.min.js";function phonebookAddPage(){let r=new CalloutGenerator,t=new ApiService;$("#formAdd").on("submit",async function(e){if(e.preventDefault(),""===$("#inputLastName").val()||""===$("#inputPhoneNumber").val())throw r.createCallout("Veuillez compléter tous les champs."),Error("Champs incomplet.");e={add:!0,last_name:$("#inputLastName").val(),phone_number:$("#inputPhoneNumber").val()};try{var o=await t.put("process.php",e);o.success?(r.createCallout("Le numéro à bien été créé.",!1),window.location.href="/phonebook/edit?id="+o.id):r.createCallout("Une erreur est survenue lors de la création du numéro.")}catch(e){r.createCallout("<strong>Erreur lors de l'appel API: </strong> "+e)}})}export{phonebookAddPage};